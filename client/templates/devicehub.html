<!--

   Copyright(c) 2022 Max Qian  <astroair.cn>

   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 2 of the License, or
   (at your option) any later version.
   
   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
   
   You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software
   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
   MA 02110-1301, USA.
   
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>设备管理</title>

    <link rel='Shortcut Icon' type='image/x-icon' href='/static/textures/icons/indilib.png'>

    <!-- Font Awesome 6.2.0 Pro -->
    <link rel="stylesheet" href="/static/css/fontawesome/fontawesome.min.css">
    <!-- Bootstrap select -->
    <link rel="stylesheet" href="/static/css/bootstrap/bootstrap-select.min.css">
    <!-- AdminLTE Theme style -->
    <link rel="stylesheet" href="/static/css/adminlte.min.css">
    <!-- Loading animation -->
    <link rel="stylesheet" href="/static/css/client/loading.css">
</head>

<body style="height: auto;" class="dark-mode">
    <!-- loading开始 -->
    <div id="loading-animation">
        <div id="loading-animation-center">
            <div id="loading-animation-center-absolute">
                <div class="loading_object" id="loading_four"></div>
                <div class="loading_object" id="loading_three"></div>
                <div class="loading_object" id="loading_two"></div>
                <div class="loading_object" id="loading_one"></div>
            </div>
        </div>
    </div>
    <script>!function () { function e() { setTimeout(() => { $("#loading-animation").fadeOut(540) }, 500) } window.jQuery ? $(document).ready(() => { e() }) : document.onreadystatechange = (() => { "interactive" === document.readyState && e() }) }();</script>
    <!-- loading 结束 -->
    <div class="wrapper">
        <!-- Main content -->
        <section class="content" data-widget="iframe">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="card card-default card-primary">
                            <div class="card-header">
                                <div class="card-title">
                                    <i class="fas fa-hubspot"></i>
                                    设备管理
                                </div>
                            </div>
                            <!-- Card content -->
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="card card-default card-primary">
                                            <div class="card-header">
                                                <div class="card-title">
                                                    <i class="fas fa-bars"></i>
                                                    设备配置
                                                </div>
                                                <div class="card-tools">
                                                    <button type="button" class="btn btn-tool"
                                                        data-card-widget="collapse" title="Collapse">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <!-- Card content -->
                                            <div class="card-body">

                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group form-group-sm">
                                                            <label>主相机</label>
                                                            <div class="input-group input-group-sm">
                                                                <label for="camera"></label>
                                                                <select id="camera"  class="form-control form-control-sm selectpicker show-tick" data-live-search="true">
                                                                    {% for camera in cameras %}
                                                                        {% if saved_camera == camera %}
                                                                            <option selected>{{ camera }}</option>
                                                                        {% else %}
                                                                            <option>{{ camera }}</option>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </select>
                                                                <span class="input-group-btn">
                                                                    <button id="refresh_camera_list" class="btn btn-outline-secondary btn-sm"
                                                                        data-toggle="tooltip" title="刷新主相机可选列表">
                                                                        <i class="fas fa-redo"></i>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group form-group-sm">
                                                            <label>赤道仪</label>
                                                            <div class="input-group input-group-sm">
                                                                <label for="telescope"></label>
                                                                <select id="telescope" class="form-control form-control-sm selectpicker show-tick" data-live-search="true">
                                                                    {% for telescope in telescopes %}
                                                                        {% if saved_telescppe == telescope %}
                                                                            <option selected>{{ telescope }}</option>
                                                                        {% else %}
                                                                            <option>{{ telescope }}</option>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </select>
                                                                <span class="input-group-btn">
                                                                    <button id="refresh_telescope_list" class="btn btn-outline-secondary btn-sm"
                                                                        data-toggle="tooltip" title="刷新赤道仪可选列表">
                                                                        <i class="fas fa-redo"></i>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">

                                                    <div class="col-sm-4">
                                                        <div class="form-group form-group-sm">
                                                            <label>滤镜轮</label>
                                                            <div class="input-group input-group-sm">
                                                                <label for="filterwheel"></label>
                                                                <select id="filterwheel" class="form-control form-control-sm selectpicker show-tick" data-live-search="true">
                                                                    {% for filterwheel in filterwheels %}
                                                                        {% if saved_filterwheel == filterwheel %}
                                                                            <option selected>{{ filterwheel }}</option>
                                                                        {% else %}
                                                                            <option>{{ filterwheel }}</option>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </select>
                                                                <span class="input-group-btn">
                                                                    <button id="refresh_filterwheel_list" class="btn btn-outline-secondary btn-sm"
                                                                        data-toggle="tooltip" title="刷新电调可选列表">
                                                                        <i class="fas fa-redo"></i>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-4">
                                                        <div class="form-group form-group-sm">
                                                            <label>电调</label>
                                                            <div class="input-group input-group-sm">
                                                                <label for="focuser"></label>
                                                                <select id="focuser" class="form-control form-control-sm selectpicker show-tick" data-live-search="true">
                                                                    {% for focuser in focusers %}
                                                                        {% if saved_focuser == focuser %}
                                                                            <option selected>{{ focuser }}</option>
                                                                        {% else %}
                                                                            <option>{{ focuser }}</option>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </select>
                                                                <span class="input-group-btn">
                                                                    <button id="refresh_focuser_list" class="btn btn-outline-secondary btn-sm"
                                                                        data-toggle="tooltip" title="刷新电调可选列表">
                                                                        <i class="fas fa-redo"></i>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-4">
                                                        <div class="form-group form-group-sm">
                                                            <label>导星</label>
                                                            <div class="input-group input-group-sm">
                                                                <label for="guider"></label>
                                                                <select id="guider" class="form-control form-control-sm selectpicker show-tick" data-live-search="true">
                                                                    {% for guider in guiders %}
                                                                        {% if saved_guider == guider %}
                                                                            <option selected>{{ guider }}</option>
                                                                        {% else %}
                                                                            <option>{{ guider }}</option>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </select>
                                                                <span class="input-group-btn">
                                                                    <button id="refresh_guider_list" class="btn btn-outline-secondary btn-sm"
                                                                        data-toggle="tooltip" title="刷新导星可选列表">
                                                                        <i class="fas fa-redo"></i>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group form-group-sm">
                                                            <label>解析</label>
                                                            <div class="input-group input-group-sm">
                                                                <label for="solver"></label>
                                                                <select id="solver" class="form-control form-control-sm selectpicker show-tick" data-live-search="true">
                                                                    {% for solver in solvers %}
                                                                        {% if saved_solver == solver %}
                                                                            <option selected>{{ solver }}</option>
                                                                        {% else %}
                                                                            <option>{{ solver }}</option>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </select>
                                                                <span class="input-group-btn">
                                                                    <button id="refresh_solver_list" class="btn btn-outline-secondary btn-sm"
                                                                        data-toggle="tooltip" title="刷新解析器可选列表">
                                                                        <i class="fas fa-redo"></i>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group form-group-sm">
                                                            <label>插件</label>
                                                            <div class="input-group input-group-sm">
                                                                <label for="plugins"></label>
                                                                <select id="plugins" multiple class="form-control form-control-sm selectpicker show-tick" data-live-search="true">
                                                                    {% for plugins in pluginss %}
                                                                        {% if saved_plugins == plugins %}
                                                                            <option selected>{{ plugins }}</option>
                                                                        {% else %}
                                                                            <option>{{ plugins }}</option>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </select>
                                                                <span class="input-group-btn">
                                                                    <button id="refresh_plugins_list" class="btn btn-outline-secondary btn-sm"
                                                                        data-toggle="tooltip" title="刷新插件可选列表">
                                                                        <i class="fas fa-redo"></i>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-sm-12">
                                                        <div class="form-group form-group-sm">
                                                            <div class="row">
                                                                <div class="col">
                                                                    <button id="server_command" class="btn btn-default btn-outline-info btn-sm btn-block">
                                                                        <i class="fas fa-light-switch-on"></i>
                                                                        启动
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-sm-12">
                                                        <div id="server_notify" class="info">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-6">
                                        <div class="card card-default card-primary">
                                            <div class="card-header">
                                                <div class="card-title">
                                                    <i class="fas fa-hubspot"></i>
                                                    设备调度
                                                </div>
                                                <div class="card-tools">
                                                    <button type="button" class="btn btn-tool"
                                                        data-card-widget="collapse" title="Collapse">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <!-- Card content -->
                                            <div class="card-body">
                                                <table class="table table-sm table-bordered table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th style="width: 25%;" class="text-center">
                                                                <i class="fas fa-camera-home"></i>
                                                                设备类型
                                                            </th>
                                                            <th style="width: 25%;" class="text-center">
                                                                <i class="fas fa-box"></i>
                                                                设备名称
                                                            </th>
                                                            <th style="width: 25%;" class="text-center">
                                                                <i class="fas fa-running"></i>
                                                                设备状态
                                                            </th>
                                                            <th style="width: 25%;" class="text-center">
                                                                <i class="fas fa-gear"></i>
                                                                设备控制
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr data-widget="expandable-table"
                                                            aria-expanded="false">
                                                            <td class="text-center">
                                                                主相机
                                                            </td>
                                                            <td id="camera_name">

                                                            </td>
                                                            <td id="camera_status">

                                                            </td>
                                                            <td>
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <button id="camera_restart" type="button"
                                                                            class="btn btn-block btn-outline-success btn-sm disabled">
                                                                            <i class="fas fa-redo"></i>
                                                                        </button>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <button id="camera_disconnect" type="button"
                                                                            class="btn btn-block btn-outline-danger btn-sm disabled">
                                                                            <i class="fas fa-delete-left"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                
                                                            </td>
                                                        </tr>
                                                        <!-- ./ Caemra Table-->

                                                        <tr data-widget="expandable-table"
                                                            aria-expanded="false">
                                                            <td class="text-center">
                                                                赤道仪
                                                            </td>
                                                            <td id="telescope_name">

                                                            </td>
                                                            <td id="telescope_status">

                                                            </td>
                                                            <td>
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <button id="mount_restart" type="button"
                                                                            class="btn btn-block btn-outline-success btn-sm disabled">
                                                                            <i class="fas fa-redo"></i>
                                                                        </button>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <button id="mount_disconnect" type="button"
                                                                            class="btn btn-block btn-outline-danger btn-sm disabled">
                                                                            <i class="fas fa-delete-left"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                
                                                            </td>
                                                        </tr>
                                                        <!-- ./ Mount Table -->

                                                        <tr data-widget="expandable-table"
                                                            aria-expanded="false">
                                                            <td class="text-center">
                                                                滤镜轮
                                                            </td>
                                                            <td id="filterwheel_name">

                                                            </td>
                                                            <td id="filterwheel_status">

                                                            </td>
                                                            <td>
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <button id="filterwheel_restart" type="button"
                                                                            class="btn btn-block btn-outline-success btn-sm disabled">
                                                                            <i class="fas fa-redo"></i>
                                                                        </button>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <button id="filterwheel_disconnect" type="button"
                                                                            class="btn btn-block btn-outline-danger btn-sm disabled">
                                                                            <i class="fas fa-delete-left"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                
                                                            </td>
                                                        </tr>
                                                        <!-- ./ Filterwheel Tabel-->

                                                        <tr data-widget="expandable-table"
                                                            aria-expanded="false">
                                                            <td class="text-center">
                                                                电调
                                                            </td>
                                                            <td id="focuser_name">

                                                            </td>
                                                            <td id="focuser_status">

                                                            </td>
                                                            <td>
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <button id="focuser_restart" type="button"
                                                                            class="btn btn-block btn-outline-success btn-sm disabled">
                                                                            <i class="fas fa-redo"></i>
                                                                        </button>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <button id="focuser_disconnect" type="button"
                                                                            class="btn btn-block btn-outline-danger btn-sm disabled">
                                                                            <i class="fas fa-delete-left"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                
                                                            </td>
                                                        </tr>
                                                        <!-- ./ Focuser Tbale -->

                                                        <tr data-widget="expandable-table"
                                                            aria-expanded="false">
                                                            <td class="text-center">
                                                                导星
                                                            </td>
                                                            <td id="guider_name">

                                                            </td>
                                                            <td id="guider_status">

                                                            </td>
                                                            <td>
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <button id="guider_restart" type="button"
                                                                            class="btn btn-block btn-outline-success btn-sm disabled">
                                                                            <i class="fas fa-redo"></i>
                                                                        </button>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <button id="guider_disconnect" type="button"
                                                                            class="btn btn-block btn-outline-danger btn-sm disabled">
                                                                            <i class="fas fa-delete-left"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                
                                                            </td>
                                                        </tr>
                                                        <!-- ./ Guider Tabel -->

                                                        <tr data-widget="expandable-table"
                                                            aria-expanded="false">
                                                            <td class="text-center">
                                                                解析
                                                            </td>
                                                            <td id="solver_name">

                                                            </td>
                                                            <td id="solver_status">

                                                            </td>
                                                            <td>
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <button id="solver_restart" type="button"
                                                                            class="btn btn-block btn-outline-success btn-sm disabled">
                                                                            <i class="fas fa-redo"></i>
                                                                        </button>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <button id="solver_disconnect" type="button"
                                                                            class="btn btn-block btn-outline-danger btn-sm disabled">
                                                                            <i class="fas fa-delete-left" ></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                
                                                            </td>
                                                        </tr>
                                                        <!-- ./ Solver Table -->
                                                    </tbody>
                                                </table>
                                                
                                                
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="card-footer text-primary text-center mt-2">
                                设备管理
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="container">
        <!-- Central Modal Medium Danger -->
        <div class="modal fade" id="centralModalDanger" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-notify modal-danger" role="document">
                <!--Content-->
                <div class="modal-content">
                    <!--Header-->
                    <div class="modal-header">
                        <p class="heading lead" id="errorModalTitle">错误信息</p>
                        <button type="button" class="close modal-voy-btn" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true" class="white-text">&times;</span>
                        </button>
                    </div>

                    <!--Body-->
                    <div class="modal-body">
                        <div class="text-center">
                            <i class="fas fa-exclamation-triangle fa-4x mb-3 animated bounceIn"></i>
                            <p id="errorMessage" class="note note-danger">
                                未知错误
                            </p>
                            <p id="contactMessage" class="text-muted">
                                <small>如果你有任何问题，请将详细细节告知开发者</small>
                            </p>
                        </div>
                    </div>

                    <!--Footer-->
                    <div class="modal-footer justify-content-center">
                        <a class="btn btn-outline-danger modal-voy-btn"
                            href="mailto:astro_air@126.com,fran.dibiase@gmail.com">
                            <i class="fas fa-envelope mr-1"></i>联系我们</a>
                        <button type="button" class="btn btn-danger waves-effect modal-voy-btn" data-dismiss="modal">
                            Ok
                        </button>
                    </div>
                </div>
                <!--/.Content-->
            </div>
        </div>
    </div>
    <!-- Modal container end -->

    <!-- jQuery -->
    <script src="/static/js/jquery/jquery.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="/static/js/bootstrap/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap select -->
    <script src="/static/js/bootstrap/bootstrap-select.min.js"></script>
    <!-- Bootstrap select I18n -->
    <script src="/static/js/bootstrap/bootstrap-select-zh_CN.min.js"></script>
    <!-- AdminLTE App -->
    <script src="/static/js/adminlte.min.js"></script>
    <!-- INDI Web -->
    <script src="/static/js/client/devicehub.js"></script>
</body>